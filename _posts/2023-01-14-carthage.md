---
title:  "Carthage 사용법 정리."
excerpt: "Carthage 사용법 정리."

categories:
  - etc
tags:
  - [etc, Programming]

toc: true
toc_sticky: true
 
date: 2023-01-14
last_modified_at: 2023-01-14

published: true
---

# Intro
* 이제 조금은 더 편하게 살아보자라는 심경으로 한번 알아보게 됨.
* 애플 플랫폼에서 사용할 수 있는 의존성 관리 도구는 대표적으로 CocoaPods, Carthage, Swift Package Manager 등이 있고 이것들 중 Carthage를 정리해보자.
* https://github.com/Carthage/Carthage 를 보면 되긴한다.

# 사용법
* Carthage 설치나 upgrade를 하자.
```
$ brew install carthage
$ brew upgrade carthage

```

* 라이브러리를 적용하고 싶은 프로젝트 경로로 이동하여 Cartfile 을 만듭시다.

```
//.xcodeproj 파일이 있는 곳이어야 할듯.

$ cd {Xcode 프로젝트 위치}
$ touch Cartfile

```

* Cartfile 작성은 아래 링크를 더 확인해 보자.
  * https://github.com/Carthage/Carthage/blob/master/Documentation/Artifacts.md#cartfile
  * 아래와 같은 내용으로 채워 질 것이다.
    * github “[GITHUB ACCOUNT]/[REPO NAME]”

```
github "SDWebImage/libwebp-Xcode"
```

* 이제 아래 둘중 하나로 실행해보자

```
$ carthage update //전체 빌드
$ carthage update --platform iOS //ios 만 빌드.
```
* 만약 아래와 같은 에러가 발생한다면

```
xcrun: error: unable to find utility "xcodebuild", not a developer tool or in PATH

//Xcode 를 열어러 아래 설정을 해주자.
[Xcode] - [Preferences] - [Locations] - [Command Line Tools] 설정
```

* 이래도 아래와 같은 에러가 발생해서 아래처럼 다시 실행.

```
carthage update --platform iOS  --use-xcframeworks   
```


* 아래와 같은 파일들이 신규로 생성될 것이다.

```
Cartfile.resolved 파일
Carthage 폴더
```

* 이제 라이브러리들을 프로젝트에 연결해 보자
  * Targets 에서 General 탭에서 Frameworks, Libraries, and Embedded Content 에 Carthage/Build 폴더에있는 .xcframewrok 를 추가하자.
    * https://stackoverflow.com/questions/52714746/quickest-way-to-add-carthage-in-xcode-project/52714806#52714806 참고.
  * Build Script 도 추가하라고하는 글들이 있는데, 굳이 할 필요없을듯.
    * 추가할꺼면 Build Phases 탭에 Run Script 항목에 코드를 추가하면 된다.

* 마지막으로 삭제
	* 그냥 불필요한것은 지우면 된다.


* 참고
  * https://devmjun.github.io/archive/Carthage 여기를 좀더 봐보자.